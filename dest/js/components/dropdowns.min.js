"use strict";var activeDropdown=null,dropdownFocusables=[],dropdownClickHandler=function(o){activeDropdown.contains(o.target)||closeDropdown(activeDropdown)};window.addEventListener("keydown",function(o){"Tab"===o.key&&null!==activeDropdown&&focusDropdown(o)});var focusDropdown=function(o){var e=dropdownFocusables.findIndex(function(o){return o===activeDropdown.querySelector(":focus")});!0===o.shiftKey?e--:e++,(e<0||e>=dropdownFocusables.length)&&closeDropdown(activeDropdown)};window.addEventListener("keydown",function(o){"Escape"===o.key&&null!==activeDropdown&&(activeDropdown.querySelector(".js-dropdown").focus(),closeDropdown(activeDropdown))});var openDropdown=function(o){activeDropdown&&closeDropdown(activeDropdown),activeDropdown=o,dropdownFocusables=Array.from(o.querySelectorAll(focusableSelector)),o.querySelector(".js-dropdown").setAttribute("aria-expanded","true"),document.addEventListener("click",dropdownClickHandler)},closeDropdown=function(o){o.querySelector(".js-dropdown").setAttribute("aria-expanded","false"),document.removeEventListener("click",dropdownClickHandler),activeDropdown=null};document.querySelectorAll(".js-dropdown").forEach(function(o){o.addEventListener("click",function(){("false"==o.getAttribute("aria-expanded")?openDropdown:closeDropdown)(o.parentNode)})});