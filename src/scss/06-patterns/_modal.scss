@if $enable-modal {

	.modal-is-open { 
		overflow: hidden;

		.not-touch & {
			padding-right: var(--scrollbar-width);
		}
	}

	.p-modal {
		--p: var(--spacing);
		--section-p: var(--spacing);
		--body-border: 1px solid var(--color-lightgrey);
		position: fixed;
		top: 0;
		left: 0;
		z-index: var(--z-max);
		align-items: flex-start;
		justify-content: center;
		width: 100%;
		height: 100vh;
		padding: var(--p);
		border: none;
		background-color: rgba(#000, 0.85); 
		overflow-x: hidden;
		overflow-y: auto;

		&[open] {
			display: flex;
			animation: o-fade-in 0.3s both;
		}

		&.is-hiding {
			animation-name: o-fade-out;
		}

		&__dialog {
			position: relative;
			max-width: 100%;
			border-radius: var(--radius);
			background-color: #fff;
			overflow: hidden;
			animation: o-translate-from-top 0.3s both;

			.is-hiding > & {
				animation-name: o-translate-to-bottom;
			}

			&--small {
				width: 100%;
				max-width: $small-plus-screen;
			}

			&--medium {
				width: 100%;
				max-width: $medium-screen;
			}

			&--large {
				width: 100%;
				max-width: $large-screen;
			}

			&--large-plus {
				width: 100%;
				max-width: $large-plus-screen
			}

			&--viewport {
				display: flex;
				max-height: calc(100vh - var(--p) * 2);
			}

			&--lightbox {
				--section-p: 0;
				--header-position: absolute;
				--body-border: none;
				overflow: visible;
				background-color: transparent;
				pointer-events: none;

				img {
					display: block;
					margin: auto;
					max-height: calc(100vh - var(--p) * 2);
					width: auto;
					border-radius: var(--radius);
					pointer-events: auto;
				}
			}
		}

		&__content {
			display: flex;
			flex-direction: column;
			position: relative;
			width: 100%;
			max-height: 100%;
		}

		&__header {
			position: var(--header-position);
			top: 0;
			left: 0;
			display: flex;
			align-self: flex-start;
			width: 100%;
			padding: var(--p);
		}

		&__title {
			@include heading(4);
			align-self: center;
			margin-bottom: 0;
			margin-right: var(--spacing);
		}

		&__body {
			width: 100%;
			padding: var(--section-p);
			border-top: var(--body-border);
			border-bottom: var(--body-border);
			overflow-y: auto;
		}

		&__footer {
			display: flex;
			flex-direction: column;
			justify-content: center;
			width: 100%;
			padding: 0 var(--section-p) var(--section-p);

			@include small-plus {
				flex-direction: row;
			}

			> * {
				width: 100%;
				margin-top: var(--spacing);

				@include small-plus {
					width: auto;
					margin-left: var(--spacing-half); 
					margin-right: var(--spacing-half); 
				}
			}
		}

		&__close {
			margin-left: auto;
			pointer-events: auto;
		}
	}

}